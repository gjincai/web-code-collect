function lottery(){this.container="#lottery",this.items=".lottery-item",this.focusClass="lottery-active",this.index=0,this.timer=null,this.speed=20,this.count=0,this.loop=4,this.cycle=0,this.prize=-1,this.callback="",this.isStart=!1}lottery.prototype.init=function(t){if($.extend(this,"object"==typeof t?t:{}),this.count=$(this.container).find(this.items).length,this.cycle=this.loop*this.count,this.count>0){this.children=[];for(var i=0;i<this.count;i++)this.children.push($(this.container).find(this.items+"-"+i))}},lottery.prototype.focus=function(){this.index=this.index>=this.count-1?0:this.index+1,$(this.container).find(this.items).removeClass(this.focusClass),this.children[this.index].addClass(this.focusClass)},lottery.prototype.start=function(){if(0==this.isStart){this.isStart=!0,this.children[0].addClass(this.focusClass);var t=this;setTimeout(function(){t.roll()},200)}},lottery.prototype.stop=function(t,i){var e=this;setTimeout(function(){e.cycle+=t,e.prize=t,e.callback=i},1500)},lottery.prototype.roll=function(t){var i=t||this;i.cycle--,i.focus(),i.cycle<=0&&i.prize==i.index?(clearTimeout(i.timer),i.cycle=i.count*i.loop,i.prize=-1,i.speed=200,i.isStart=!1,setTimeout(function(){$(i.container).find(i.items).removeClass(i.focusClass),$.isFunction(i.callback)&&i.callback(i.index),i.index=0},1e3)):(-1==i.prize?i.speed=i.speed<=100?100:i.speed-10:(i.prize<5&&i.cycle<=5||i.prize-i.index<=5&&i.cycle<=5)&&(i.speed+=300),i.timer=setTimeout(function(){i.roll(i)},i.speed))};